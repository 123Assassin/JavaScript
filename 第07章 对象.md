# 一、概述

  对象（object）是JavaScript的核心概念，也是最重要的数据类型。JavaScript的所有数据都可以被视为对象。简单说，所谓对象，就是一种无序的数据集合，由若干个“键值对”（key-value，亦称属性名值对、成员等）构成。

  JavaScript支持面向对象编程，虽然不同于传统的面向对象编程语言，但是JavaScript具有很强的面向对象编程能力。“面向对象编程”（Object Oriented Programming，缩写为OOP）是目前主流的编程范式。它的核心思想是将真实世界中各种复杂的关系，抽象为一个个对象，然后由对象之间的分工与合作，完成对真实世界的模拟。

  传统的过程式编程（procedural programming）由一系列函数或一系列指令组成，而面向对象编程的程序由一系列对象组成。每一个对象都是功能中心，具有明确分工，可以完成接受信息、处理数据、发出信息等任务。因此，面向对象编程具有灵活性、代码的可重用性、模块性等特点，容易维护和开发，非常适合多人合作的大型软件项目。

  那么，“对象”（object）到底是什么？我们从两个层次来理解。

- **“对象”是单个实物的抽象。**

  一本书、一辆汽车、一个人都可以是“对象”，一个数据库、一张网页、一个与远程服务器的连接也可以是“对象”。当实物被抽象成“对象”，实物之间的关系就变成了“对象”之间的关系，从而就可以模拟现实情况，针对“对象”进行编程。

- **“对象”是一个容器，封装了“属性”（property）和“方法”（method）。**

  所谓“属性”，就是对象的状态；所谓“方法”，就是对象的行为（完成某种任务）。比如，我们可以把动物抽象为animal对象，“属性”记录具体是那一种动物，“方法”表示动物的某种行为（奔跑、捕猎、休息等等）。

# 二、创建对象

## 1、字面量创建对象

  以下展示通过字面量创建对象的两种方法：

```javascript
// 常用写法
var person {
	name:"Petter",
	age:24,
	address:"四川省成都市"
}

// 严格写法
var person {
	"name":"Petter",
	"age":24,
	"address":"四川省成都市"
}
```

  两种写法的引号可为双引号，也可以为单引号。若有多个键值对，每个键值对后面都需要加上英文逗号“`,`”作为分割符，否则程序会报错，最后一个键值对后方可加，也可不加。第一种写法为常用写法，是程序中最常用的写法，第二种写法叫做严格写法，这种严格模式的写法通常用于***JSON***文件的编写。但实际上第二种写法在某些情况下是一种必要手段，就是当属性名（键名）为数字外加其它内容等一些非严格命名模式的时候。如果为数字（包括科学计数法、浮点数、进制数），数字会被自动转换成字符串，如果是出现数字+其它字母、字母+空格+字母、字母+其它符号等的时候，就必须要手动加上引号了，否则程序会报错。

  另外，JavaScript内的关键字和保留字也可以作为属性名，并且不需要加上引号也能正常使用。

```javascript
var obj = {
	for:"循环",
	if:"条件语句",
	function: function() {
		console.log("哎哟，不错哟~");
	},
	class: {
		name:"Petter",
		age:21
	}
}
obj.if; // "条件语句"
obj.function() // "哎哟，不错哟~"
```

## 2、构造函数创建对象

   ***new***关键字和对象的构造函数相结合可以创建一个空白对象，随后可以为其添加属性和方法。

  首先，使用***new***关键字和***Object()***构造函数联合创建一个对象（此函数是JavaScript语言的一部分，用于创建对象）。

  创建了空白对象之后，可以使用***点语法***添加属性和方法。每个创建属性和方法的行为都应该使用分号结束。

```javascript
var person = new Object();
// 添加属性
person.name = 'Petter';
person.age  = 24;
person.address = "四川省成都市";
// 添加方法
person.sayHi = function() {
	console.log("Hi!");
}
```

  有的时候你会希望用多个对象代表相似事物。对象构造函数可以使用函数作为***模板***来创建对象。首先，创建带有对象属性和方法的模板。我们来看一个示例：

```javascript
function Person(name, age, address) {
	// 属性
	this.name = name,
	this.age  = age,
	this.address = address,

	// 方法
	this.sayHi = function() {
		console.log("Hi!");
	}
}
```

  上面代码中，***Person***就是构造函数，它提供模板，用来生成对象实例。为了与普通函数区别，构造函数名字的第一个字母通常大写。

  构造函数的特点有两个。

- 函数体内部使用了***this***关键字，代表了所要生成的对象实例。
- 生成对象的时候，必需用***new***命令，调用***Person***函数。

```javascript
function Person(name, age, address) {
	// 属性
	this.name = name,
	this.age  = age,
	this.address = address,

	// 方法
	this.sayHi = function() {
		console.log("Hi!");
	}
}

// 创建Person对象实例
var person1 = Person("张三", 20, "四川省成都市");
var person2 = Person("李四", 24, "四川省乐山市");
var person3 = Person("王五", 26, "四川省自贡市");
```

# 三、对象属性

  在对象中，变量被认为是属性，如果一个变量是对象的一部分，我们称它为属性。属性向我们描述对象，正如一部车的品牌、颜色或车型。

```javascript
var car = {
	brand: "Benz",
	color: "black",
	model: "E200"
}
```

# 四、对象方法

  在对象中，函数被认为是方法，如果一个函数是对象的一部分，我们称它为方法。方法代表和对象相关的任务。例如一部车可以加速或减速行驶。

```javascript
var car = {
	// 属性
	brand: "Benz",
	color: "black",
	model: "E200",
	// 方法
	speedUp: function() {
		console.log("正在加速！");
	},
	slowDown = function() {
		console.log("正在减速！");
	}
}
```

# 五、访问对象属性/方法

## 1、访问属性

  访问对象属性，主要有两种方法：

- 点语法，其语法形式为：***Obj.property***，如 *person.name*
- 下标法，其语法形式为：***Obj["property"]***，如 *person["name"]*

## 2、访问方法

  访问对象方法，直接通过点语法即可访问，其语法形式：***Obj.function_name()***，如 *car.speedUp()*

# 六、属性名数组 Object.keys()

  和查看所有数组的下标一样，利用 ***Object.keys(obj)*** 方法可以查看对象所有的属性名，返回的结果是一个数组。

```javascript
var car = {
	// 属性
	brand: "Benz",
	color: "black",
	model: "E200",
	// 方法
	speedUp: function() {
		console.log("正在加速！");
	},
	slowDown: function() {
		console.log("正在减速！");
	}
}

Object.keys(car);
// ["brand", "color", "model", "speedUp", "slowDown"]

Object.keys(car).length;  // 5
car[Object.keys(car)[0]]; // "Benz"
```

  通过上面的示例可以发现，利用这个内置对象Object的keys()方法，我们可以“玩出”非常多的花样，不仅可以像数组那样通过“length”属性（对象本身是没有length这个属性的）获取到对象的属性个数，还可以像数组那样，通过下标去访问对象内的属性值。单是获取对象属性个数这一点来讲，这个方法会被我们用“计数器”+“for-in遍历”要显得“干净”得多。

  现在我们通过在对象的原型链上添加一个“eq()”方法来模仿像*jQuery*那样通过“eq(index)”方法（方法内的“index”表示对象下标）来访问jQuery对象的指定元素。仍旧采用上面的“car”对象进行演示：

```javascript
Object.prototype.eq = function(idx) {
	return this[Object.keys(this)[idx]];
};

car.eq(0)   // "Benz"
car.eq(1)   // "black"
car.eq(3)() // "正在加速！"
```

  通过示例可以发现，现在的对象已经可以使用下标进行访问了，再加上通过 ***Object.keys()*** 方法本身就可以间接去获取对象的属性个数（获取到属性名集合的长度属性），这就使得通过普通的循环语句（非for-in语句）来遍历一个对象成为了可能。

# 七、对象的”增、删、改、查“

  对于数据操作来讲，无非就是四种操作“增、删、改、查”。对于对象来讲，“***增***” 就是为一个对象新增一个之前不存在的属性名，然后进行赋值；“***改***” 就是对对象已经存在的属性名进行重新赋值，达到一个修改原始对象的效果；而 “***查***” 就是简单地通过对象的属性名访问即可（当然也可以通过对“[]”传变量实现访问）。这些我们之前都讲解过，但对于 “***删***”来讲稍微有些特殊，需要用到关键字 “***delete***” 进行操作，为了说明问题，我们还是对这些操作进行回顾并在其中列出“***delete***”的使用方式。原对象如下：

```javascript
var phone = {
	brand: "iPhone"
	model: "iPhone7 Plus",
	pubDate: "2016-09-10",
	company: "Apple"
}
```

## 1、增

  增加‘*color*’属性：

```javascript
phone.color = 'black';
```

## 2、删

  删除‘*company*’属性：

```javascript
delete phone.company; // true
```

> 注意，该方法在执行成功后会返回一个布尔值*true*，只有当正在删除的对象属性不存在或不能删除（如继承的属性：toString、valueOf等）时才会返回false值。

## 3、改

  修改‘*pubDate*’属性：

```javascript
phone.pubDate = '2016-09-10';
```

## 4、查

  查询‘*brand*’和‘*model*’属性：

```javascript
phone.brand; // "iPhone"
phone.model; // "iPhone7 Plus"	
```



